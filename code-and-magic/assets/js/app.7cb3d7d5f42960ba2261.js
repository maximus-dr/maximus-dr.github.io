!function(e){function t(t){for(var s,o,a=t[0],c=t[1],u=t[2],h=0,d=[];h<a.length;h++)o=a[h],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(l&&l(t);d.length;)d.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],s=!0,a=1;a<i.length;a++){var c=i[a];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},n={0:0},r=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([2,1]),i()}([function(e,t,i){"use strict";var s=i(6);e.exports={loadData:function(e,t,i){var n=e.slice();i(s(n,t.filter).slice(t.from,t.to))},callbackLoad:function(e,t,i){var s=new XMLHttpRequest,n=[];s.addEventListener("load",(function(e){try{n=JSON.parse(e.target.response),i(n)}catch(e){console.log(e)}})),s.open("GET",e+"?from="+t.from+"&to="+t.to+"&filter="+t.filter),s.timeout=1e4,s.send()},setCookie:function(){var e=new Date,t=e.getFullYear(),i=new Date(t,11,9),s=document.querySelector("input[name=review-mark]:checked"),n=document.querySelector("#review-name");if(+e>+i)var r=+e-+i+ +e;else r=+e+(+e-+new Date(t-1,11,9));window.Cookies.set("review-mark",s.value,{expires:r}),window.Cookies.set("review-name",n.value,{expires:r})},throttle:function(e,t){var i=!0;return function(){i&&(e(),i=!1),setTimeout((function(){i=!0}),t)}},inherit:function(e,t){if("function"==typeof e&&"function"==typeof t){var i=function(){};i.prototype=t.prototype,e.prototype=new i}else console.error("inherit: One or both parameters is not a function")}}},function(e,t,i){"use strict";var s=function(e){this.element=e};s.prototype={append:function(e){e.appendChild(this.element)},remove:function(){this.element.parentNode.removeChild(this.element)}},e.exports=s},function(e,t,i){"use strict";i.r(t);i(3),i(13)},function(e,t,i){"use strict";i(4);var s=i(8),n=i(12),r=document.querySelectorAll(".photogallery-image"),o=Array.prototype.map.call(r,(function(e){var t=document.createElement("a");return t.href=e.childNodes[0].src,t.pathname})),a=new n(document.querySelector(".overlay-gallery"),o);Array.prototype.forEach.call(r,(function(e,t){e.onclick=function(){location.hash="#photo"+o[t],a.show(location.hash)}})),window.onload=a.onHashChange,s.load()},function(e,t,i){"use strict";var s=i(5),n=i(7),r=new s(document.querySelector(".demo"));r.initializeLevelAndStart(),r.setGameStatus(s.Verdict.INTRO),document.querySelector(".reviews-controls-new").onclick=function(e){e.preventDefault(),n.open((function(){r.setGameStatus(s.Verdict.PAUSE),r.setDeactivated(!0)}))},n.onClose=function(){r.setDeactivated(!1)},e.exports={game:r}},function(e,t,i){"use strict";var s=i(0),n=0,r=[n][0],o=0,a=1,c=0,u=1,l=1,h=2,d=4,f=8,v={};v[o]={width:61,height:84,url:"assets/img/wizard.gif"},v[o+"-reversed"]={width:61,height:84,url:"assets/img/wizard-reversed.gif"},v[a]={width:24,height:24,url:"assets/img/fireball.gif"};var p={};p[o]=function(e,t,i){t.keysPressed.UP&&e.y>0&&(e.direction=e.direction&~f,e.direction=e.direction|d,e.y-=e.speed*i*2),t.keysPressed.UP||e.y<300-e.height&&(e.direction=e.direction&~d,e.direction=e.direction|f,e.y+=e.speed*i/3),t.keysPressed.LEFT&&(e.direction=e.direction&~h,e.direction=e.direction|l,e.x-=e.speed*i),t.keysPressed.RIGHT&&(e.direction=e.direction&~l,e.direction=e.direction|h,e.x+=e.speed*i),e.y<0&&(e.y=0),e.y>300-e.height&&(e.y=300-e.height),e.x<0&&(e.x=0),e.x>700-e.width&&(e.x=700-e.width)},p[a]=function(e,t,i){e.direction&l&&(e.x-=e.speed*i),e.direction&h&&(e.x+=e.speed*i),(e.x<0||e.x>700)&&(e.state=u)};var w={CONTINUE:0,WIN:1,FAIL:2,PAUSE:3,INTRO:4},g={};g[n]=function(e){return e.garbage.filter((function(e){return e.type===a})).length?w.WIN:w.CONTINUE};var m={};m[n]=function(e){return e.objects.push({direction:h,height:84,speed:2,sprite:v[o],state:c,type:o,width:61,x:700/3,y:200}),e};var y=function(e){this.container=e,this.canvas=document.createElement("canvas"),this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._pauseListener=this._pauseListener.bind(this),this.setDeactivated(!1)};y.prototype={level:r,setDeactivated:function(e){this._deactivated!==e&&(this._deactivated=e,e?this._removeGameListeners():this._initializeGameListeners())},getInitialState:function(){return{currentStatus:w.CONTINUE,garbage:[],lastUpdated:null,keysPressed:{ESC:!1,LEFT:!1,RIGHT:!1,SPACE:!1,UP:!1},levelStartTime:null,objects:[],startTime:null}},initializeLevelAndStart:function(e){(e=void 0===e||e)||!this.state?(this.state=this.getInitialState(),this.state=m[this.level](this.state)):this.state.currentStatus=w.CONTINUE,this.state.levelStartTime=Date.now(),this.state.startTime||(this.state.startTime=this.state.levelStartTime),this._preloadImagesForLevel(function(){this.render(),this._initializeGameListeners(),this.update()}.bind(this))},pauseLevel:function(e){e&&(this.state.currentStatus=e),this.state.keysPressed.ESC=!1,this.state.lastUpdated=null,this._removeGameListeners(),window.addEventListener("keydown",this._pauseListener),this._drawPauseScreen()},_pauseListener:function(e){if(32===e.keyCode&&!this._deactivated){e.preventDefault();var t=this.state.currentStatus===w.WIN||this.state.currentStatus===w.FAIL;this.initializeLevelAndStart(t),window.removeEventListener("keydown",this._pauseListener)}},wrapText:function(e,t,i,s,n,r,o){for(var a=t.split(" "),c=a.length,u="",l=0;l<c;l++){var h=u+a[l]+" ";e.measureText(h).width>r-n?(e.fillText(u,i,s),u=a[l]+" ",s+=o):u=h}e.fillText(u,i,s)},getRowsCount:function(e,t,i,s){for(var n=t.split(" "),r=n.length,o=1,a="",c=0;c<r;c++){var u=a+n[c]+" ";e.measureText(u).width>s-2*i?(o++,a=n[c]+" "):a=u}return o},drawBaloon:function(e,t,i,s){var n=40+s*i;this.ctx.beginPath(),this.ctx.moveTo(e+10,t+10),this.ctx.lineTo(e+350+10,t+10),this.ctx.lineTo(e+350+10,t+n+10),this.ctx.lineTo(e-15+10,t+n+25+10),this.ctx.lineTo(e+10,t+10),this.ctx.fillStyle="#000000",this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(e+350,t),this.ctx.lineTo(e+350,t+n),this.ctx.lineTo(e-15,t+n+25),this.ctx.lineTo(e,t),this.ctx.fillStyle="#FFFFFF",this.ctx.fill(),this.ctx.fillStyle="#000000"},_drawPauseScreen:function(){var e,t=175,i=300/9,s=2*i+20;switch(this.ctx.font="16px PT Mono",this.state.currentStatus){case w.WIN:e="Поздравляем! Вы только что выиграли!",this.drawBaloon(t,i,25,this.getRowsCount(this.ctx,e,40,300)),this.wrapText(this.ctx,e,225,s,40,300,25);break;case w.FAIL:e="Сожалеем! Вы проиграли!",this.drawBaloon(t,i,25,this.getRowsCount(this.ctx,e,40,300)),this.wrapText(this.ctx,e,225,s,40,300,25);break;case w.PAUSE:e="Игра на паузе! Для продолжения нажмите пробел!",this.drawBaloon(t,i,25,this.getRowsCount(this.ctx,e,40,300)),this.wrapText(this.ctx,e,225,s,40,300,25);break;case w.INTRO:e="Добро пожаловать в игру! Используйте стрелки для перемещения и shift для стрельбы!",this.drawBaloon(t,i,25,this.getRowsCount(this.ctx,e,40,300)),this.wrapText(this.ctx,e,225,s,40,300,25)}},_preloadImagesForLevel:function(e){if(void 0===this._imagesArePreloaded&&(this._imagesArePreloaded=[]),this._imagesArePreloaded[this.level])e();else for(var t=Object.keys(v),i=t.length,s=this,n=function(t){var n=new Image(t.width,t.height);n.onload=function(){t.image=n,0==--i&&(s._imagesArePreloaded[s.level]=!0,e())},n.src=t.url},r=0;r<t.length;r++)n(v[t[r]])},updateObjects:function(e){var t=this.state.objects.filter((function(e){return e.type===o}))[0];this.state.keysPressed.SHIFT&&(this.state.objects.push({direction:t.direction,height:24,speed:5,sprite:v[a],type:a,width:24,x:t.direction&h?t.x+t.width:t.x-24,y:t.y+t.height/2}),this.state.keysPressed.SHIFT=!1),this.state.garbage=[];var i=this.state.objects.filter((function(t){return p[t.type](t,this.state,e),t.state!==u||(this.state.garbage.push(t),!1)}),this);this.state.objects=i},checkStatus:function(){if(this.state.currentStatus===w.CONTINUE){this.commonRules||(this.commonRules=[function(e){return e.objects.filter((function(e){return e.type===o}))[0].state===u?w.FAIL:w.CONTINUE},function(e){return e.keysPressed.ESC?w.PAUSE:w.CONTINUE},function(e){return Date.now()-e.startTime>18e4?w.FAIL:w.CONTINUE}]);for(var e=this.commonRules.concat(g[this.level]),t=w.CONTINUE;t===w.CONTINUE&&e.length;)t=e.shift()(this.state);this.state.currentStatus=t}},setGameStatus:function(e){this.state.currentStatus!==e&&(this.state.currentStatus=e)},render:function(){this.ctx.clearRect(0,0,700,300),this.state.objects.forEach((function(e){if(e.sprite){var t=e.direction&l,i=v[e.type+(t?"-reversed":"")]||v[e.type];this.ctx.drawImage(i.image,e.x,e.y,e.width,e.height)}}),this)},update:function(){this.state.lastUpdated||(this.state.lastUpdated=Date.now());var e=(Date.now()-this.state.lastUpdated)/10;switch(this.updateObjects(e),this.checkStatus(),this.state.currentStatus){case w.CONTINUE:this.state.lastUpdated=Date.now(),this.render(),requestAnimationFrame(function(){this.update()}.bind(this));break;case w.WIN:case w.FAIL:case w.PAUSE:case w.INTRO:this.pauseLevel()}},_onKeyDown:function(e){switch(e.keyCode){case 37:this.state.keysPressed.LEFT=!0;break;case 39:this.state.keysPressed.RIGHT=!0;break;case 38:this.state.keysPressed.UP=!0;break;case 27:this.state.keysPressed.ESC=!0}e.shiftKey&&(this.state.keysPressed.SHIFT=!0)},_onKeyUp:function(e){switch(e.keyCode){case 37:this.state.keysPressed.LEFT=!1;break;case 39:this.state.keysPressed.RIGHT=!1;break;case 38:this.state.keysPressed.UP=!1;break;case 27:this.state.keysPressed.ESC=!1}e.shiftKey&&(this.state.keysPressed.SHIFT=!1)},_parallaxEffectAndGamePause:function(){var e=document.querySelector(".header-clouds"),t=document.querySelector(".demo"),i=this,n=!0,r=0,o=s.throttle((function(){var e=t.getBoundingClientRect().bottom;n=r>0,e<=0&&i.setGameStatus(w.PAUSE)}),200);window.addEventListener("scroll",(function(){o(),function(){r=e.getBoundingClientRect().bottom;var t=e.clientHeight-r;n&&(e.style.backgroundPositionX=50-t/5+"%")}()}))},_initializeGameListeners:function(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this._parallaxEffectAndGamePause()},_removeGameListeners:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this._parallaxEffectAndGamePause()}},y.Verdict=w,e.exports=y},function(e,t,i){"use strict";e.exports=function(e,t){var i=[],s=Date.now()-2592e5;switch(t){case"reviews-all":i=e;break;case"reviews-recent":i=e.filter((function(e){return e.created<=s})).sort((function(e,t){return t.created-e.created}));break;case"reviews-good":i=e.filter((function(e){return e.rating>=3})).sort((function(e,t){return t.rating-e.rating}));break;case"reviews-bad":i=e.filter((function(e){return e.rating<3})).sort((function(e,t){return e.rating-t.rating}));break;case"reviews-popular":i=e.slice().sort((function(e,t){return t.review_usefulness-e.review_usefulness}))}return i}},function(e,t,i){"use strict";var s=i(0),n=document.querySelector(".reviews-controls-new"),r=document.querySelector(".overlay-container"),o=r.querySelector(".review-form-close"),a=r.querySelector("#review-name"),c=r.querySelector("#review-text"),u=r.querySelector(".review-submit"),l=r.querySelector(".review-fields"),h=r.querySelector(".review-fields-name"),d=r.querySelector(".review-fields-text"),f=r.querySelectorAll("input[name=review-mark]");function v(){var e;a.value?(u.disabled=!1,h.classList.remove("review-fields-label-visible")):(u.disabled=!0,l.classList.add("review-fields-visible"),h.classList.add("review-fields-label-visible")),(e=document.querySelector("input[name=review-mark]:checked")).value<3?(c.required=!0,u.disabled=!0,l.classList.add("review-fields-visible"),d.classList.add("review-fields-label-visible")):e.value>=3&&(c.required=!1,u.disabled=!1,d.classList.remove("review-fields-label-visible")),!c.value&!0===c.required?(u.disabled=!0,d.classList.add("review-fields-visible"),d.classList.add("review-fields-label-visible")):(u.disabled=!1,d.classList.remove("review-fields-label-visible")),!h.classList.contains("review-fields-label-visible")&!d.classList.contains("review-fields-label-visible")?l.classList.remove("review-fields-visible"):l.classList.add("review-fields-visible")}var p={onClose:null,open:function(e){r.classList.remove("invisible"),e()},close:function(){r.classList.add("invisible"),"function"==typeof this.onClose&&this.onClose()}};n.addEventListener("click",(function(){window.addEventListener("keydown",g);for(var e=window.Cookies.get("review-mark"),t=0;t<f.length;t++)f[t].value===e&&(f[t].checked=!0);a.value=window.Cookies.get("review-name")||"",v()}));for(var w=0;w<f.length;w++)f[w].onchange=function(){v()};a.oninput=function(){v()},c.oninput=function(){v()},u.addEventListener("click",(function(){s.setCookie()})),o.onclick=function(e){e.preventDefault(),window.removeEventListener("keydown",g),p.close()};var g=function e(t){27===t.keyCode&&(t.preventDefault(),window.removeEventListener("keydown",e),p.close())};e.exports=p},function(e,t,i){"use strict";var s=i(9),n=i(0),r=i(10),o=i(11),a=document.getElementById("review-template"),c="content"in a?a.content:a,u=document.querySelector(".reviews-controls-more"),l=document.querySelector(".reviews-filter"),h=document.querySelector(".reviews-list"),d="reviews-all",f=[],v=0;s.forEach((function(e){var t;e.created=(t=12096e5,Date.now()-parseInt(Math.random()*t))}));var p=function(e,t){n.loadData(s,{from:t,to:t+3,filter:e},w)},w=function(e){l.classList.add("invisible"),e.forEach((function(e){var t=c.querySelector(".review").cloneNode(!0),i=new r(t,new o(e));f.push(i),h.appendChild(i.element)})),l.classList.remove("invisible"),e.length<3?u.classList.add("invisible"):u.classList.remove("invisible")};l.addEventListener("change",(function(e){"reviews"===e.target.name&&(f.forEach((function(e){e.remove()})),f=[],v=0,d=e.target.id,localStorage.setItem("lastCheckedFilter",d),p(d,v))})),u.addEventListener("click",(function(){p(d,v+=3)}));var g={load:function(){var e=localStorage.getItem("lastCheckedFilter");e?(d=e,document.getElementById(e).checked=!0):d="reviews-all",p(d,v)}};e.exports=g},function(e,t,i){"use strict";e.exports=[{author:{name:"Иванов Иван",picture:"assets/img/user-1.jpg"},review_usefulness:10,rating:2,description:"Плохая игра: слишком сильно затягивает и невозможно оторваться. Я потерял работу, учебу, девушку и дар речи, но продолжаю играть. Это призыв о помощи: спасите."},{author:{name:"Ксения Собчак",picture:"assets/img/user-3.png"},review_usefulness:6,rating:5,description:"Все хорошо, мне нравится."},{author:{name:"Ксюша Бородина",picture:"assets/img/user-2.png"},review_usefulness:3,rating:1,description:"Все плохо, мне не нравится"},{author:{name:"Мария Антуанетта",picture:"assets/img/user-1.jpg"},review_usefulness:4,rating:3,description:"Невероятно чумовая игра. Пендальф-синий — мой герой)))) Он такой милашка. Благодаря ему я наконец нацчилась отвлекаться от работы и учёбы."},{author:{name:"Дмитрий Карпов",picture:"assets/img/user-3.png"},review_usefulness:20,rating:4,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Максим Шаровары",picture:"assets/img/user-1.jpg"},review_usefulness:115,rating:2,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Зулейха Валиева",picture:"assets/img/user-3.png"},review_usefulness:10,rating:4,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Федор Непомнящих",picture:"assets/img/user-2.png"},review_usefulness:10,rating:3,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Макаронный Монстр",picture:"assets/img/user-1.jpg"},review_usefulness:-3,rating:5,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Миклухо Маклай",picture:"assets/img/user-3.png"},review_usefulness:0,rating:2,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Муравьев Апостол",picture:"assets/img/user-2.png"},review_usefulness:0,rating:1,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Максим Горький",picture:"assets/img/user-3.png"},review_usefulness:8,rating:3,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Аноним",picture:"assets/img/user-2.png"},review_usefulness:102,rating:3,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Иван Иванов",picture:"assets/img/user-1.jpg"},review_usefulness:5,rating:4,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Василиса Васильева",picture:"assets/img/user-2.png"},review_usefulness:0,rating:4,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Хороший Человек",picture:"assets/img/user-2.png"},review_usefulness:24,rating:3,description:"Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди."},{author:{name:"Гейб Ньюэлл",picture:"assets/img/user-2.png"},review_usefulness:10,rating:5,description:"Игра очень интересная. Нравится возможность выбирать между героями, а самое крутое, что есть альтернативные концовки в игре. Она точно стоит своих денег."}]},function(e,t,i){"use strict";var s=i(1),n=i(0),r="review-quiz-answer-active",o=function(e,t){this.data=t,s.call(this,this.getReviewElement(e)),this.setUsefulnessOnClick=this.setUsefulnessOnClick.bind(this),this.quizList=this.element.querySelector(".review-quiz"),this.quizAnswerYes=this.element.querySelector(".review-quiz-answer-yes"),this.quizAnswerNo=this.element.querySelector(".review-quiz-answer-no"),this.quizList.addEventListener("click",this.setUsefulnessOnClick)};n.inherit(o,s),o.prototype={setUsefulnessOnClick:function(e){if(e.target.classList.contains("review-quiz-answer")){var t=e.target===this.quizAnswerYes;this.data.updateUsefulness(t,this.onUsefulnessUpdate.bind(this))}},onUsefulnessUpdate:function(e){e?(this.quizAnswerYes.classList.add(r),this.quizAnswerNo.classList.remove(r)):(this.quizAnswerNo.classList.add(r),this.quizAnswerYes.classList.remove(r))},remove:function(){this.quizList.removeEventListener("click",this.setUsefulnessOnClick),s.prototype.remove.call(this)},getReviewElement:function(e){var t=e.querySelector(".review-author"),i=e.querySelector(".review-text"),s=new Image(124,124);return s.onload=function(){t.src=this.src},s.onerror=function(){e.classList.add("review-load-failure")},s.src=this.data.getAuthorPicture(),i.textContent=this.data.getDescription(),e.querySelector(".review-rating").classList.add("review-rating-"+["one","two","three","four","five"][this.data.getRating()-1]),e}},e.exports=o},function(e,t,i){"use strict";var s=function(e){this.authorName=e.author.name,this.authorPicture=e.author.picture,this.created=e.created,this.reviewUsefulness=e.review_usefulness,this.rating=e.rating,this.description=e.description};s.prototype={getAuthorName:function(){return this.authorName},getAuthorPicture:function(){return this.authorPicture},getCreated:function(){return this.created},getUsefulness:function(){return this.reviewUsefulness},getRating:function(){return this.rating},getDescription:function(){return this.description},setAuthorName:function(e){this.authorName=e},setAuthorPicture:function(e){this.authorPicture=e},setCreated:function(e){this.created=e},updateUsefulness:function(e,t){this.reviewUsefulness+=e?1:-1,"function"==typeof t&&t(e)},setRating:function(e){this.rating=e},setDescription:function(e){this.description=e}},e.exports=s},function(e,t,i){"use strict";var s=i(1),n=i(0),r=function(e,t){s.call(this,e),this.currentPicture=document.querySelector(".preview-number-current"),this.totalPictures=document.querySelector(".preview-number-total"),this.galleryClose=document.querySelector(".overlay-gallery-close"),this.controlLeft=document.querySelector(".overlay-gallery-control-left"),this.controlRight=document.querySelector(".overlay-gallery-control-right"),this.pictures=t,this.pictureIndex=0,this.totalPictures.innerText=this.pictures.length,this.hide=this.hide.bind(this),this.onEscKeyDown=this.onEscKeyDown.bind(this),this.onLeftClick=this.onLeftClick.bind(this),this.onLeftKeyDown=this.onLeftKeyDown.bind(this),this.onRightClick=this.onRightClick.bind(this),this.onRightKeyDown=this.onRightKeyDown.bind(this),this._reloadHash=this._reloadHash.bind(this),this.onHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",this.onHashChange)};n.inherit(r,s),r.prototype={onEscKeyDown:function(e){27===e.keyCode&&(e.preventDefault(),this.hide())},onLeftKeyDown:function(e){37===e.keyCode&&(e.preventDefault(),this.pictureIndex>1&&(this.pictureIndex--,this._reloadHash()))},onLeftClick:function(){this.pictureIndex>1&&(this.pictureIndex--,this._reloadHash())},onRightKeyDown:function(e){39===e.keyCode&&(e.preventDefault(),this.pictureIndex<this.pictures.length&&(this.pictureIndex++,this._reloadHash()))},onRightClick:function(){this.pictureIndex<this.pictures.length&&(this.pictureIndex++,this._reloadHash())},onHashChange:function(){-1===location.hash.indexOf("photo")?this.hide():this.show(location.hash)},_reloadHash:function(){this.pictureSrc=this.pictures[this.pictureIndex-1],location.hash="#photo"+this.pictureSrc,this.setPictureIndex()},show:function(e){if("number"==typeof e)this.pictureIndex=e;else if("string"==typeof e){if(""===e)return;this.pictureSrc=e.match(/#photo(\S+)/)[1],this.pictureIndex=this.pictures.indexOf(this.pictureSrc)+1}this.element.classList.remove("invisible"),this.galleryClose.addEventListener("click",this.hide),window.addEventListener("keydown",this.onEscKeyDown),this.controlLeft.addEventListener("click",this.onLeftClick),window.addEventListener("keydown",this.onLeftKeyDown),this.controlRight.addEventListener("click",this.onRightClick),window.addEventListener("keydown",this.onRightKeyDown),this._reloadHash()},hide:function(){location.hash="",this.element.classList.add("invisible"),this.galleryClose.removeEventListener("click",this.hide),this.controlLeft.removeEventListener("click",this.onLeftClick),window.removeEventListener("keydown",this.onLeftKeyDown),this.controlRight.removeEventListener("click",this.onRightClick),window.removeEventListener("keydown",this.onRightKeyDown)},setPictureIndex:function(){var e=document.querySelector(".overlay-gallery-preview"),t=new Image;"string"==typeof this.pictureSrc?(t.src=this.pictureSrc,this.currentPicture.innerText=this.pictureIndex):"number"==typeof this.pictureIndex&&(t.src=this.pictures[this.pictureIndex],this.currentPicture.innerText=this.pictureIndex+1),"IMG"===e.lastElementChild.nodeName?e.replaceChild(t,e.lastElementChild):e.appendChild(t)},remove:function(){this.hide(),window.removeEventListener("hashchange",this.onHashChange)}},e.exports=r},function(e,t,i){var s=i(14),n=i(15);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},o=(s(n,r),n.locals?n.locals:{});e.exports=o},,function(e,t,i){}]);